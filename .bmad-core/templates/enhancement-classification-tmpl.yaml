template:
  id: enhancement-classification-tmpl
  name: Enhancement Classification Template
  description: |
    Helps classify brownfield enhancements to route to appropriate workflow path.
    Uses BMAD elicitation to gather scope information from user.
  
  owner: analyst
  editors: [pm, po]
  
  variables:
    project_description: "User's project description"
    enhancement_type: "Type of enhancement requested"
    complexity_level: "Complexity assessment"
  
  sections:
    - id: scope_assessment
      title: Enhancement Scope Assessment
      instruction: |
        I need to understand the scope of your enhancement to route it to the appropriate workflow.
        
        Based on your project description, please help me classify this enhancement:
        
        - **Single Story** (< 4 hours): Small fixes, minor features, quick improvements
        - **Small Feature** (1-3 stories): Medium features needing a few related changes
        - **Major Enhancement** (multiple epics): Complex changes requiring architectural planning
        
        What type of enhancement are you planning?
      elicitation: 
        required: true
      validation:
        required: true
        
    - id: complexity_details  
      title: Complexity Details
      instruction: |
        To better understand the complexity, could you describe:
        
        1. What specific functionality needs to be added or changed?
        2. Will this require changes to the database schema?
        3. Are new APIs or integrations needed?
        4. Does this impact the user interface significantly?
        5. Are there any architectural concerns or dependencies?
      elicitation:
        required: true
      condition: needs_more_detail
      
  outputs:
    enhancement_classification: "single_story | small_feature | major_enhancement"
    classification_confidence: "high | medium | low"
    routing_recommendation: "Recommended next workflow step"
    
  routing_rules:
    single_story:
      next_step: "brownfield-create-story"
      exit_workflow: true
      message: "Creating single story for immediate implementation"
      
    small_feature: 
      next_step: "brownfield-create-epic"
      exit_workflow: true
      message: "Creating focused epic with 1-3 stories"
      
    major_enhancement:
      next_step: "documentation_check"
      continue_workflow: true
      message: "Continuing with comprehensive planning workflow"